<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-development" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Developer Guide | Perspective</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://perspective.finos.org/docs/development/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Developer Guide | Perspective"><meta data-rh="true" name="description" content="Thank you for your interest in contributing to Perspective! This guide will"><meta data-rh="true" property="og:description" content="Thank you for your interest in contributing to Perspective! This guide will"><link data-rh="true" rel="icon" href="https://www.finos.org/hubfs/FINOS/finos-logo/favicon.ico"><link data-rh="true" rel="canonical" href="https://perspective.finos.org/docs/development/"><link data-rh="true" rel="alternate" href="https://perspective.finos.org/docs/development/" hreflang="en"><link data-rh="true" rel="alternate" href="https://perspective.finos.org/docs/development/" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.a7094bed.css">
<script src="/assets/js/runtime~main.b04c1c6d.js" defer="defer"></script>
<script src="/assets/js/main.c29f522a.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_Wpc0" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/svg/perspective-logo-light.svg" alt="Perspective" class="themedComponent_oka5 themedComponent--light_qb5_"><img src="/svg/perspective-logo-light.svg" alt="Perspective" class="themedComponent_oka5 themedComponent--dark_XBvE"></div></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/js/">Docs</a><a class="navbar__item navbar__link" href="/examples/">Examples</a><a href="https://www.prospective.co/blog" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_p4Mm"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/finos/perspective" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_p4Mm"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle__Z00 colorModeToggle_cw_W"><button class="clean-btn toggleButton_lOrF toggleButtonDisabled_eNJv" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_qAVJ"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_Q16v"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_exSv"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_sWbV"><div class="docsWrapper_L7aj"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_fuTP" type="button"></button><div class="docRoot_t_lM"><aside class="theme-doc-sidebar-container docSidebarContainer_QM5u"><div class="sidebarViewport_g7t3"><div class="sidebar_BdxL"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_MdNs"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/js/">Language Guides</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/expressions/">API</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/development/">Developer Guide</a></li></ul></nav></div></div></aside><main class="docMainContainer_jTWx"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_nWX2"><div class="docItemContainer_BtsR"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_SmPB" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_P9HZ"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Developer Guide</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_pWQg theme-doc-toc-mobile tocMobile_niuB"><button type="button" class="clean-btn tocCollapsibleButton_e7NQ">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Developer Guide</h1></header><p>Thank you for your interest in contributing to Perspective! This guide will
teach you everything you need to know to get started hacking on the Perspective
codebase.</p>
<p>If you&#x27;re coming to this project as principally a JavaScript developer, please
be aware that Perspective is quite a bit more complex than a typical NPM package
due to the mixed-language nature of the project; we&#x27;ve done quite a bit to make
sure the newcomer experience is as straightforward as possible, but some things
might not work the way you&#x27;re used to!</p>
<p>Perspective is organized as a
<a href="https://github.com/babel/babel/blob/master/doc/design/monorepo.md" target="_blank" rel="noopener noreferrer">monorepo</a>,
and uses <a href="https://lernajs.io/" target="_blank" rel="noopener noreferrer">lerna</a> to manage dependencies.</p>
<p>This guide provides instructions for both the JavaScript and Python libraries.
To switch your development toolchain between the two, use <code>yarn setup</code>. Once the
setup script has been run, common commands like <code>yarn build</code> and <code>yarn test</code>
automatically call the correct build and test tools.</p>
<h3 class="anchor anchorWithStickyNavbar_WRxc" id="system-dependencies">System Dependencies<a class="hash-link" aria-label="Direct link to System Dependencies" title="Direct link to System Dependencies" href="/docs/development/#system-dependencies">​</a></h3>
<p><code>Perspective.js</code> and <code>perspective-python</code> <strong>require</strong> the following system
dependencies to be installed:</p>
<ul>
<li><a href="https://cmake.org/" target="_blank" rel="noopener noreferrer">CMake</a> (version 3.29.5 or higher)</li>
<li><a href="https://www.boost.org/" target="_blank" rel="noopener noreferrer">Boost</a> (version 1.83 or highery). This can be
installed from tarball with the included script
<code>node tools/perspective-scripts/install_tools.mjs</code>.</li>
<li><a href="https://pnpm.io/" target="_blank" rel="noopener noreferrer">pnpm</a>.</li>
</ul>
<p><strong><em>This list may be non-exhaustive depending on your OS/environment; please open
a thread in <a href="https://github.com/finos/perspective/discussions" target="_blank" rel="noopener noreferrer">Discussions</a> if
you have any questions</em></strong></p>
<h2 class="anchor anchorWithStickyNavbar_WRxc" id="build">Build<a class="hash-link" aria-label="Direct link to Build" title="Direct link to Build" href="/docs/development/#build">​</a></h2>
<p>Make sure you have the system dependencies installed. For specifics depending on
your OS, check the <a href="/docs/development/#system-specific-instructions">system-specific instructions</a>
below.</p>
<p>To run a build, use</p>
<div class="language-bash codeBlockContainer_RnBD theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_A2IP"><pre tabindex="0" class="prism-code language-bash codeBlock_fVB8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_a4yf"><span class="token-line" style="color:#F8F8F2"><span class="token plain">pnpm run build</span><br></span></code></pre><div class="buttonGroup_amuP"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_yXod" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_g7I8"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_DrBO"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If this is the first time you&#x27;ve built Perspective, you&#x27;ll be asked to generate
a <code>.perspectiverc</code> via a short survey. This can be later re-configured via</p>
<div class="language-bash codeBlockContainer_RnBD theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_A2IP"><pre tabindex="0" class="prism-code language-bash codeBlock_fVB8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_a4yf"><span class="token-line" style="color:#F8F8F2"><span class="token plain">pnpm run setup</span><br></span></code></pre><div class="buttonGroup_amuP"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_yXod" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_g7I8"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_DrBO"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If everything is successful, you should be able to run any of the <code>examples/</code>
packages, e.g. <code>examples/blocks</code> like so:</p>
<div class="language-bash codeBlockContainer_RnBD theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_A2IP"><pre tabindex="0" class="prism-code language-bash codeBlock_fVB8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_a4yf"><span class="token-line" style="color:#F8F8F2"><span class="token plain">pnpm run start blocks</span><br></span></code></pre><div class="buttonGroup_amuP"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_yXod" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_g7I8"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_DrBO"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_WRxc" id="perspectivejs"><code>Perspective.js</code><a class="hash-link" aria-label="Direct link to perspectivejs" title="Direct link to perspectivejs" href="/docs/development/#perspectivejs">​</a></h2>
<p>To build the JavaScript library, which includes WebAssembly compilation,
<a href="https://github.com/kripken/emscripten" target="_blank" rel="noopener noreferrer">Emscripten</a> and its prerequisites are
required.</p>
<p><code>Perspective.js</code> specifies its Emscripten version dependency in <code>package.json</code>,
and the correct version of Emscripten will be installed with other JS
dependencies by running <code>yarn</code>.</p>
<h4 class="anchor anchorWithStickyNavbar_WRxc" id="building-via-local-emsdk">Building via local EMSDK<a class="hash-link" aria-label="Direct link to Building via local EMSDK" title="Direct link to Building via local EMSDK" href="/docs/development/#building-via-local-emsdk">​</a></h4>
<p>To build using an Emscripten install on your local system and not the Emscripten
bundled with Perspective in its <code>package.json</code>,
<a href="https://emscripten.org/docs/getting_started/downloads.html" target="_blank" rel="noopener noreferrer">install</a> the
Emscripten SDK, then activate and export the latest <code>emsdk</code> environment via
<a href="https://github.com/juj/emsdk" target="_blank" rel="noopener noreferrer"><code>emsdk_env.sh</code></a>:</p>
<div class="language-bash codeBlockContainer_RnBD theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_A2IP"><pre tabindex="0" class="prism-code language-bash codeBlock_fVB8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_a4yf"><span class="token-line" style="color:#F8F8F2"><span class="token plain">source emsdk/emsdk_env.sh</span><br></span></code></pre><div class="buttonGroup_amuP"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_yXod" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_g7I8"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_DrBO"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Deviating from this specific version of Emscripten specified in the project&#x27;s
<code>package.json</code> can introduce various errors that are extremely difficult to
debug.</p>
<p>To install a specific version of Emscripten (e.g. <code>2.0.6</code>):</p>
<div class="language-bash codeBlockContainer_RnBD theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_A2IP"><pre tabindex="0" class="prism-code language-bash codeBlock_fVB8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_a4yf"><span class="token-line" style="color:#F8F8F2"><span class="token plain">./emsdk install 2.0.6</span><br></span></code></pre><div class="buttonGroup_amuP"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_yXod" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_g7I8"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_DrBO"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_WRxc" id="perspective-python"><code>perspective-python</code><a class="hash-link" aria-label="Direct link to perspective-python" title="Direct link to perspective-python" href="/docs/development/#perspective-python">​</a></h2>
<p>To build the Python library, first configure your project to build Python via
<code>yarn setup</code>. Then, install the requirements corresponding to your version of
python, e.g.</p>
<div class="language-bash codeBlockContainer_RnBD theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_A2IP"><pre tabindex="0" class="prism-code language-bash codeBlock_fVB8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_a4yf"><span class="token-line" style="color:#F8F8F2"><span class="token plain">pip install -r rust/perspective-python/requirements.txt</span><br></span></code></pre><div class="buttonGroup_amuP"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_yXod" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_g7I8"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_DrBO"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>perspective-python</code> supports Python 3.8 and upwards.</p>
<h3 class="anchor anchorWithStickyNavbar_WRxc" id="perspective-jupyterlab"><code>perspective-jupyterlab</code><a class="hash-link" aria-label="Direct link to perspective-jupyterlab" title="Direct link to perspective-jupyterlab" href="/docs/development/#perspective-jupyterlab">​</a></h3>
<p>To install the Jupyterlab/Jupyter Notebook plugins from your local working
directory, simply install <code>python/perspective</code> with <code>pip</code> as you might normally
do.</p>
<div class="language-bash codeBlockContainer_RnBD theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_A2IP"><pre tabindex="0" class="prism-code language-bash codeBlock_fVB8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_a4yf"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># builds labextension to the perspective-python python package root directory</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">PACKAGE=perspective-jupyterlab pnpm run build</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># editable install of the python package</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">pnpm -F @finos/perspective-python develop:maturin</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># set up symlink of our labextension to jupyter share directory</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># this directory&#x27;s path is in the output of `jupyter labextension list`</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">pnpm -F @finos/perspective-python develop:labextension</span><br></span></code></pre><div class="buttonGroup_amuP"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_yXod" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_g7I8"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_DrBO"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Afterwards, you should see it listed as a &quot;local extension&quot; when you run
<code>jupyter labextension list</code> and as a normal extension when you run
<code>jupyter nbextension list</code>.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_WRxc" id="system-specific-instructions">System-Specific Instructions<a class="hash-link" aria-label="Direct link to System-Specific Instructions" title="Direct link to System-Specific Instructions" href="/docs/development/#system-specific-instructions">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_WRxc" id="macososx">MacOS/OSX<a class="hash-link" aria-label="Direct link to MacOS/OSX" title="Direct link to MacOS/OSX" href="/docs/development/#macososx">​</a></h3>
<p>Install system dependencies through Homebrew:</p>
<div class="language-bash codeBlockContainer_RnBD theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_A2IP"><pre tabindex="0" class="prism-code language-bash codeBlock_fVB8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_a4yf"><span class="token-line" style="color:#F8F8F2"><span class="token plain">brew install cmake llvm@17</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">brew link llvm@17 # optional, see below</span><br></span></code></pre><div class="buttonGroup_amuP"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_yXod" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_g7I8"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_DrBO"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>On M1 (Apple Silicon) systems, make sure your brew-installed dependencies are in
<code>/opt/homebrew</code> (the default location), and that <code>/opt/homebrew/bin</code> is on the
<code>PATH</code>.</p>
<p>If you do not want to link the llvm@17 keg, then while developing ensure it is
on your PATH too, like this:</p>
<div class="codeBlockContainer_RnBD theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_A2IP"><pre tabindex="0" class="prism-code language-text codeBlock_fVB8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_a4yf"><span class="token-line" style="color:#F8F8F2"><span class="token plain">PATH=$(brew --prefix llvm@17)/bin:$PATH</span><br></span></code></pre><div class="buttonGroup_amuP"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_yXod" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_g7I8"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_DrBO"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Note</strong>: Perspective vendors its C++ extensions, so you may run into trouble
building if you have <code>brew</code>-installed versions of libraries, such as
<code>flatbuffers</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_WRxc" id="windows-10">Windows 10<a class="hash-link" aria-label="Direct link to Windows 10" title="Direct link to Windows 10" href="/docs/development/#windows-10">​</a></h3>
<p>You need to use bash in order to build Perspective packages. To successfully
build on Windows 10, enable
<a href="https://docs.microsoft.com/en-us/windows/wsl/install-win10" target="_blank" rel="noopener noreferrer">Windows Subsystem for Linux</a>
(WSL) and install the Linux distribution of your choice.</p>
<p>Create symbolic links to easily access Windows directories and projects modified
via Windows. This way, you can modify any of the Perspective files using your
favorite editors on Windows and build via Linux.</p>
<p>Follow the Linux specific instructions to install Emscripten and all
prerequisite tools.</p>
<h3 class="anchor anchorWithStickyNavbar_WRxc" id="ubuntudebian">Ubuntu/Debian<a class="hash-link" aria-label="Direct link to Ubuntu/Debian" title="Direct link to Ubuntu/Debian" href="/docs/development/#ubuntudebian">​</a></h3>
<p>On Ubuntu, CMake will mistakenly resolve the system headers in <code>/usr/include</code>
rather than the emscripten supplied versions. You can resolve this by moving
<code>boost</code> dependencies to somewhere other than <code>/usr/include</code> - into Perspective&#x27;s
own <code>src</code> dir (as per
<a href="http://vclf.blogspot.com/2014/08/emscripten-linking-to-boost-libraries.html" target="_blank" rel="noopener noreferrer">here</a>).</p>
<div class="language-bash codeBlockContainer_RnBD theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_A2IP"><pre tabindex="0" class="prism-code language-bash codeBlock_fVB8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_a4yf"><span class="token-line" style="color:#F8F8F2"><span class="token plain">apt-get install libboost-all-dev</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">cp -r /usr/include/boost ./packages/perspective/src/include/</span><br></span></code></pre><div class="buttonGroup_amuP"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_yXod" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_g7I8"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_DrBO"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_WRxc" id="test">Test<a class="hash-link" aria-label="Direct link to Test" title="Direct link to Test" href="/docs/development/#test">​</a></h2>
<p>You can run the test suite simply with the standard NPM command, which will both
build the test suite for every package and run them.</p>
<div class="language-bash codeBlockContainer_RnBD theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_A2IP"><pre tabindex="0" class="prism-code language-bash codeBlock_fVB8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_a4yf"><span class="token-line" style="color:#F8F8F2"><span class="token plain">pnpm run test</span><br></span></code></pre><div class="buttonGroup_amuP"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_yXod" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_g7I8"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_DrBO"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_WRxc" id="javascript">JavaScript<a class="hash-link" aria-label="Direct link to JavaScript" title="Direct link to JavaScript" href="/docs/development/#javascript">​</a></h3>
<p>The JavaScript test suite is composed of two sections: a Node.js test, which
asserts behavior of the <code>@finos/perspective</code> library, and a suite of
<a href="https://playwright.dev/" target="_blank" rel="noopener noreferrer">Playwright</a> tests, which assert the behavior of the
rest of the UI facing packages.</p>
<div class="language-bash codeBlockContainer_RnBD theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_A2IP"><pre tabindex="0" class="prism-code language-bash codeBlock_fVB8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_a4yf"><span class="token-line" style="color:#F8F8F2"><span class="token plain">pnpm run test --update-snapshots</span><br></span></code></pre><div class="buttonGroup_amuP"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_yXod" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_g7I8"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_DrBO"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_WRxc" id="troubleshooting-installation-from-source">Troubleshooting installation from source<a class="hash-link" aria-label="Direct link to Troubleshooting installation from source" title="Direct link to Troubleshooting installation from source" href="/docs/development/#troubleshooting-installation-from-source">​</a></h3>
<p>If you are installing from a source distribution (sdist), make sure you have the
<a href="/docs/development/#system-dependencies">System Dependencies</a> installed.</p>
<p>Try installing in verbose mode:</p>
<div class="language-bash codeBlockContainer_RnBD theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_A2IP"><pre tabindex="0" class="prism-code language-bash codeBlock_fVB8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_a4yf"><span class="token-line" style="color:#F8F8F2"><span class="token plain">pip install -vv perspective-python</span><br></span></code></pre><div class="buttonGroup_amuP"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_yXod" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_g7I8"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_DrBO"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The most common culprits are:</p>
<ul>
<li>CMake version is too old</li>
<li>Boost headers are missing or too old</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_WRxc" id="benchmark">Benchmark<a class="hash-link" aria-label="Direct link to Benchmark" title="Direct link to Benchmark" href="/docs/development/#benchmark">​</a></h2>
<p>You can generate benchmarks specific to your machine&#x27;s OS and CPU architecture
with Perspective&#x27;s benchmark suite, which will host a live dashboard at
<a href="http://localhost:8080" target="_blank" rel="noopener noreferrer">http://localhost:8080</a> as well as output a result <code>benchmark.arrow</code> file.</p>
<div class="language-bash codeBlockContainer_RnBD theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_A2IP"><pre tabindex="0" class="prism-code language-bash codeBlock_fVB8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_a4yf"><span class="token-line" style="color:#F8F8F2"><span class="token plain">pnpm run bench</span><br></span></code></pre><div class="buttonGroup_amuP"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_yXod" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_g7I8"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_DrBO"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/server/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Data Binding</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_d_iq thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/docs/development/#system-dependencies">System Dependencies</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/development/#build">Build</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/development/#perspectivejs"><code>Perspective.js</code></a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/development/#perspective-python"><code>perspective-python</code></a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/development/#perspective-jupyterlab"><code>perspective-jupyterlab</code></a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/development/#system-specific-instructions">System-Specific Instructions</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/development/#macososx">MacOS/OSX</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/development/#windows-10">Windows 10</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/development/#ubuntudebian">Ubuntu/Debian</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/development/#test">Test</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/development/#javascript">JavaScript</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/development/#troubleshooting-installation-from-source">Troubleshooting installation from source</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/development/#benchmark">Benchmark</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/js/">JavaScript User Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/python/">Python User Guide</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/finos/perspective" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_p4Mm"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.prospective.co/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item" position="right">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_p4Mm"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 The Perspective Authors</div></div></div></footer></div>
</body>
</html>