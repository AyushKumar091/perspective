class t extends HTMLElement{constructor(){super(),this.addEventListener("click",(t=>{t.target!==this||this.classList.contains("loading")||this.parentElement.removeChild(this)}))}async load_tappedout_id(t){const e=await fetch("https://tappedout.net/api/deck/widget/",{method:"post",body:`board=&side=&c=type&deck=${t}&cols=6`,headers:{"Content-Type":"application/x-www-form-urlencoded"}}),{board:n}=await e.json(),o=(new DOMParser).parseFromString(n,"text/html");let a=[];for(const s of o.querySelectorAll(".card-link"))a.push(s.textContent);this.dispatchEvent(new CustomEvent("upload-event",{detail:{name:t,filter:a}}))}connectedCallback(){0===this.innerHTML.trim().length&&(this.innerHTML='\n            <div id="drop-area">\n                <form class="my-form">\n                    <p>Import via deck name from</p>\n                    <a target="_blank" href="https://tappedout.net/mtg-decks/">\n                        <code style="font-size:16px">https://tappedout.net/mtg-decks/</code>\n                    </a>\n                    <input list="decks" type="text" id="textElem" placeholder="Deck List Name"></input>\n                    <button>Run</button>\n                    <datalist id="decks">\n                        <option value="seasons-in-the-abyss-67">\n                        <option value="mind-flayarrrss-upgrade">\n                        <option value="wort-the-worthmother-budget-max-58">\n                    </datalist>\n                </form>\n            </div>',this.querySelector(".my-form").addEventListener("submit",(t=>{t.preventDefault(),t.stopPropagation();const e=this.querySelector("#textElem").value.toString().trim();window.history.replaceState(null,null,`?${e}`),this.load_tappedout_id(e)})))}}window.customElements.define("upload-dialog",t);